<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>AD&D 2e Roller</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #222;
      color: #eee;
      text-align: center;
      padding: 2rem;
    }
    button {
      padding: 1rem 2rem;
      font-size: 1.2rem;
      margin-top: 1rem;
      cursor: pointer;
    }
    #result {
      margin-top: 2rem;
      font-size: 1.5rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Thac0 Roller</h1>

  <label>
    Thac0:
    <input type="number" id="thac0">
  </label><br><br>

  <label>
    Modyfikator siły:
    <input type="number" id="strMod">
  </label><br><br>

  <label>
    Inne modyfikatory:
    <input type="number" id="otherMod">
  </label><br><br>

  <button id="rollButton">Rzut</button><br><br>

  <input type="text" id="resultBox" readonly>

  <script>
    const thac0Input = document.getElementById("thac0");
    const strModInput = document.getElementById("strMod");
    const otherModInput = document.getElementById("otherMod");
    const resultBox = document.getElementById("resultBox");

    // Wczytaj zapamiętane wartości
    thac0Input.value = localStorage.getItem("thac0") || "";
    strModInput.value = localStorage.getItem("strMod") || "";
    otherModInput.value = localStorage.getItem("otherMod") || "";

    // Zapisuj przy zmianie
    thac0Input.oninput = () => localStorage.setItem("thac0", thac0Input.value);
    strModInput.oninput = () => localStorage.setItem("strMod", strModInput.value);
    otherModInput.oninput = () => localStorage.setItem("otherMod", otherModInput.value);

    document.getElementById("rollButton").onclick = function () {
      const thac0 = Number(thac0Input.value) || 0;
      const strMod = Number(strModInput.value) || 0;
      const otherMod = Number(otherModInput.value) || 0;

      const roll = Math.floor(Math.random() * 20) + 1;
      const totalMods = roll + strMod + otherMod;
      const result = thac0 - totalMods;

      resultBox.value = `Rzut: ${roll} | Wynik: ${result}`;
    };
  </script>
  
  <h2>Logowanie</h2>

<div id="loginBox">
  <input type="text" id="username" placeholder="Login">
  <input type="password" id="password" placeholder="Hasło">
  <button id="loginBtn">Zaloguj</button>
</div>

<div id="app" style="display:none;">
  <h1>Thac0 Roller</h1>
  <!-- tu wklej resztę swojej strony -->
</div>

<script>
  const loginBox = document.getElementById("loginBox");
  const app = document.getElementById("app");

  if (localStorage.getItem("loggedIn") === "true") {
    loginBox.style.display = "none";
    app.style.display = "block";
  }

  document.getElementById("loginBtn").onclick = () => {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;

    if (user === "admin" && pass === "1234") {
      localStorage.setItem("loggedIn", "true");
      loginBox.style.display = "none";
      app.style.display = "block";
    } else {
      alert("Zły login lub hasło");
    }
  };
</script>
  
</body>
</html>
